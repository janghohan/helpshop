<!-- <style>
    /* 사이드바 스타일 */

    .sidebar {
        width: 250px;
        height: 100vh;
        background-color: #2c3e50;
        color: white;
        position: fixed;
        top: 0;
        left: 0;
        transition: width 0.3s;
        overflow: hidden;
        padding: 15px;
    }

    .sidebar.collapsed {
        width: 60px;
    }

    .sidebar .sidebar-toggle {
        text-align: right;
        padding: 10px;
    }

    .sidebar.collapsed #toggle-sidebar{
        transform: rotate(180deg);
    }

    #toggle-sidebar{
        overflow: hidden;
        display: inline-block;
        width: 22px;
        height: 22px;
        font-size: 1px;
        line-height: 0;
        color: transparent;
        white-space: nowrap;
        text-indent: 150%;
        background: url('./img/icon/ico_toggle.svg') no-repeat center;
        box-shadow: none;   
        border: 0;
    }

    .sidebar ul li:hover {
        /* background-color: #f0f0f0;
        border-radius: 5px; */
    }
    .sidebar ul li.active {
        background-color: #007bff;
        color: white;
        font-weight: bold;
    }

    /* .sidebar ul li:hover a{
        color: #f;
    } */

    .sidebar .menu {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .sidebar ul {
        list-style: none;
        padding: 0;
    }
    
    .sidebar .menu li {
        padding: 8px;
        font-size: 14px;
        color: #666;
        cursor: pointer;
    }

    .sidebar .menu li a {
        color: white;
        text-decoration: none;
        display: block;
    }

    .sidebar .sub-flex{
        display: flex;
        justify-content: space-between;
    }

    /* 사이드바 서브 */
    /* 하위 메뉴 숨김 */
    .submenu {
        display: none;
        list-style: none;
        padding-left: 20px;
        margin: 0;
    }

    /* 하위 메뉴 항목 스타일 */
    .submenu li {
        padding: 5px 0;
    }


    /* 서브메뉴 토글 버튼 스타일 */
    .submenu-toggle {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        margin-left: 10px;
        font-size: 14px;
    }

    .submenu-toggle.collapsed::after {
        content: "▶"; /* 닫힌 상태 */
    }

    .submenu-toggle::after {
        content: "▼"; /* 열린 상태 */
    }

    /* 헤더 스타일 */

    .sidebar.collapsed ~ .header {
        margin-left: 60px;
    }


</style> -->

<style>
    .sidebar {
        width: 250px;
        background-color: #333;
        color: white;
        height: 100vh;
        overflow-y: auto;
        transition: width 0.3s ease;
        position: fixed;
        top: 0;
        left: 0;
        }

    .sidebar ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .sidebar .menu-link {
        color: white;
        text-decoration: none;
        display: block;
        padding: 15px 20px;
        transition: background-color 0.3s ease;
    }

    .sidebar .menu-link:hover, .sidebar .menu-link.active {
        background-color: #555;
    }

    .sidebar .submenu {
        display: none;
        /* background-color: #444; */
    }
    .sidebar .submenu li {
        padding: 8px;
    }
    .sidebar .submenu li.active {
        background-color: #444;
    }
    .sidebar .submenu a {
        padding: 10px 20px;
        color: #fff;
    }

    /* .sidebar .submenu a:hover, .sidebar .submenu a.active {
        background-color: #666;
    } */

    .sidebar .sidebar-toggle {
        text-align: right;
        padding: 10px;
        background-color: #222;
    }

    .sidebar.collapsed {
        width: 60px;
    }

    .sidebar.collapsed .menu-link {
        text-align: center;
        padding: 15px;
    }

    .sidebar.collapsed .submenu {
        display: none;
    }

    .content {
        flex-grow: 1;
        padding: 20px;
    }
</style>


<!-- 사이드바 -->
<!-- <div class="sidebar">
    <div class="sidebar-toggle">
        <button id="toggle-sidebar">☰</button>
    </div>
    <ul class="menu">
        <li><a href="#">홈</a></li>
        <li><a href="./account.php">거래처 관리</a></li>
        <li>
            <div class="sub-flex">
                <a href="#">상품</a>
                <button class="submenu-toggle"></button>
            </div>
            <ul class="submenu">
                <li><a href="./product.php">상품내역</a></li>
                <li><a href="./product-add.php">상품등록</a></li>
            </ul>
        </li>
        <li>
            <div class="sub-flex">
                <a href="#">-</a>
                <button class="submenu-toggle"></button>
            </div>
            <ul class="submenu">
                <li><a href="#">상품 목록</a></li>
                <li><a href="#">상품 등록</a></li>
            </ul>
        </li>
    
        <li><a href="#">메시지</a></li>
        <li><a href="#">게시판</a></li>
        <li><a href="#">디자인 (PC/모바일)</a></li>
        <li><a href="#">프로모션</a></li>
        <li><a href="#">통계</a></li>
        <li><a href="#">통합설정</a></li>
    </ul>
</div> -->

<div class="sidebar">
    <div class="sidebar-toggle">
      <button id="toggleSidebar">☰</button>
    </div>
    <ul class="menu">
      <li>
        <a href="index.html" class="menu-link">Home</a>
      </li>
      <li>
        <a href="#" class="menu-link has-submenu">About</a>
        <ul class="submenu">
          <li><a href="product-add.php">상품관리</a></li>
          <li><a href="history.html">History</a></li>
        </ul>
      </li>
      <li>
        <a href="#" class="menu-link has-submenu">Services</a>
        <ul class="submenu">
          <li><a href="web.html">Web Development</a></li>
          <li><a href="seo.html">SEO</a></li>
        </ul>
      </li>
      <li>
        <a href="contact.html" class="menu-link">Contact</a>
      </li>
    </ul>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    // document.querySelectorAll(".sidebar a").forEach(link => {
    //     if (link.href === window.location.href) {
    //         $(this).closest('li').addClass('active');
    //     }
    // });

    $(document).ready(function () {
    // Sidebar toggle
        $('#toggleSidebar').on('click', function () {
            $('.sidebar').toggleClass('collapsed');
        });

        // Submenu toggle
        $('.has-submenu').on('click', function (e) {
            e.preventDefault();
            $(this).next('.submenu').slideToggle();
        });

        // Highlight current page
        const currentPage = window.location.href;
        console.log(currentPage,"currentPage");
        $('.menu-link').each(function () {
            const link = $(this).attr("href")
            // console.log(currentPage,"currentPage");
            if(link=='#'){
                const submenu = $(this).parent().find('.submenu');
                const aa = submenu.find('a');
                aa.each(function(){
                    console.log($(this).prop("href"),"is #");
                    if ($(this).prop("href")==currentPage) {
                        submenu.show();
                        // submenu.prev('.has-submenu').addClass('active');
                        $(this).parents('li').addClass('active');
                    }
                });
            }else{
                console.log($(this).prop("href"),"not #");
                if ($(this).prop("href") === currentPage) {
                    $(this).addClass('active');
                }
            }
        });
    });
</script>